(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/index/index"],{"12af":function(t,e,i){},"1ad1":function(t,e,i){"use strict";i.r(e);var n=i("4722"),o=i("de7f");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);i("cd82");var s=i("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},4722:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},"91f4":function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(i("13b3")),a=c(i("43ce")),s=i("2f62"),r=c(i("d45d")),l=c(i("ed11"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){d(t,e,i[e])})}return t}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p=function(){return i.e("components/uni-drawer/uni-drawer").then(i.bind(null,"687f"))},h=function(){return i.e("components/mpvue-picker/mpvuePicker").then(i.bind(null,"bcb2"))},g=function(){return i.e("components/dialog").then(i.bind(null,"6123"))},f=function(){return Promise.all([i.e("common/vendor"),i.e("components/mpvue-citypicker/mpvueCityPicker")]).then(i.bind(null,"a37a"))},m=function(){return Promise.all([i.e("common/vendor"),i.e("components/mix-advert/vue/mix-advert")]).then(i.bind(null,"f256"))},v=function(){var t=[0,1,2,3,4,5,6,7,8,9];return t.sort(function(){return Math.random()>.5?-1:1})},b=0,x=0,y={components:{uniDrawer:p,mpvuePicker:h,mpvueCityPicker:f,simpleDialog:g,mixAdvert:m},data:function(){return{mapkeys:"78e2cf5d6b8404995216797147d317c1",latitude:"",longitude:"",covers:[{latitude:"",longitude:""}],downOption:{auto:!1},indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,controlss:[{id:1,position:{left:600,top:250,width:30,height:30},iconPath:"../../../static/tabbar/nav.png",clickable:!0}],sDialog:{message:"",title:""},showRigth:!1,showLeft:!1,mapIsHidden:!1,UserSetList:[{id:1,img:"../../../static/tabbar/icon_qb.png",text:"我的钱包",url:"../../wallet/MyWallet/MyWallet"},{id:2,img:"../../../static/tabbar/icon_qy.png",text:"企业中心",url:"",childtext:"未开通"},{id:3,img:"../../../static/tabbar/icon_fp.png",text:"开发票",url:"../../invoice/SelectiveInvoicing/SelectiveInvoicing"},{id:4,img:"../../../static/tabbar/icon_kf.png",text:"客服中心",url:"../../setup/Customer/CustomerCenter/CustomerCenter"},{id:5,img:"../../../static/tabbar/icon_sq.png",text:"申请与审批",url:"../../Examination/ExaminationApproval/ExaminationApproval"},{id:6,img:"../../../static/tabbar/icon_sz.png",text:"设置",url:"../../setup/UserSet/UserSet"}],vehiclelist:[],obj:{id:"",text:"",active:""},UserInfoleft:{Img:"../../../static/Set/boy.png",Phone:"*************",Names:"游客"},PasswordList:[{id:1,flag:!1},{id:2,flag:!1},{id:3,flag:!1},{id:4,flag:!1},{id:5,flag:!1},{id:6,flag:!1}],len:0,startX:0,moveEndX:0,valueX:0,startY:0,moveEndY:0,valueY:0,pickerSingleArray:[{label:"绵阳市",value:1,code:510700},{label:"成都市",value:2,code:510100}],mulLinkageTwoPicker:a.default,cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],addressName:"",mapindexflag:!1,actflag:!0,systemflag:!0,pattern:"hidden",keyss:v(),diskif:!1,Payamin:!1,payone:!0,paytwo:!1,password:!1,CountBuyMoney:"0.00",payreplacetext:"微信",Paymentlist:[{id:1,img:"../../../static/Wallet/price.png",text:"余额",price:100,flag:!0},{id:2,img:"../../../static/Wallet/weixin.png",text:"微信支付",flag:!1},{id:3,img:"../../../static/Wallet/zhifubao.png",text:"支付宝",flag:!1},{id:4,img:"../../../static/Wallet/yizhifu.png",text:"翼支付",flag:!1},{id:5,img:"../../../static/Wallet/wo.png",text:"沃支付",flag:!1},{id:6,img:"../../../static/Wallet/bank.png",text:"中国建设银行",flag:!1}],paymentobj:{text:"余额",img:"../../../static/Wallet/price.png"},PsdArr:[],myAmapFun:"",locationCity:"",loadingtext:"",visabMap:!0,nearbylocation:{latitude:"",longitude:""},thousand:1e3,thousands:500,distance:"",flagdistance:!0,setttimes:"",Locationflag:!1,swidth:"",MYmaplist:[],CDmaplist:[],maplist:[],citycodes:"",mapcityflag:!0,price:0,mapindex:0,UserCouponInfo:{userid:"",conponprice:"",type:1,carnumber:""},User:{phone:"",password:"",pwd_type:2},reltops:"",flagreltops:!1,tokken:"",OrderInfo:{user_id:"",pay_type:"",pay_amount:"",car_no:"",time_span:""},ordernumber:"",coverTransform:"translateY(0)",coverTransition:"0s",moving:!1,scollheight:"0px",scollFlag:!1,scollTopflag:!1,windowheights:0,scolls:0,scrollbottom:0,CarFlag:!0,Mapxixi:!1}},computed:u({},(0,s.mapState)({MYGasstation:function(t){return t.MYGasstation},CDGasstation:function(t){return t.CDGasstation}}),{LoginFlag:{get:function(){return this.$store.state.LoginFlag},set:function(t){this.$store.state.LoginFlag=t}},UserLogin:{get:function(){return this.$store.state.UserLogin},set:function(t){this.$store.state.UserLogin=t}},advertNavUrl:function(){return""}}),mounted:function(){},onShow:function(){var e=this,i=this;if(!this.Mapxixi){i=this;i.showLeft=!1,this.mapIsHidden=!1,this.loadingtext="",this.$refs.loading.open(),this.MYmaplist=this.MYGasstation,this.CDmaplist=this.CDGasstation,t.onNetworkStatusChange(function(t){console.log(n(t," at pages\\tabbar\\index\\index.vue:473")),t.isConnected&&(console.log(n("欧我那个"," at pages\\tabbar\\index\\index.vue:482")),i.timelocation())}),i.timelocation(),setTimeout(function(){i.mapIsHidden=!0,i.$refs.loading.close(),console.log(n(JSON.stringify(i.UserLogin)," at pages\\tabbar\\index\\index.vue:490")),e.FlagLogin()},2e3)}},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){e.windowheights=t.windowHeight,console.log(n(e.windowheights," at pages\\tabbar\\index\\index.vue:500"))}})},onNavigationBarButtonTap:function(e){var i=this;if(console.log(n(e," at pages\\tabbar\\index\\index.vue:507")),0==e.index){if(!this.showLeft)return void this.show("left");this.closeDrawer("left")}1==e.index&&t.getNetworkType({success:function(e){console.log(n(e," at pages\\tabbar\\index\\index.vue:518")),"none"==e.networkType?t.showToast({title:"当前没有网络",duration:1e3,icon:"none"}):i.showSinglePicker()}}),2!=e.index?3==e.index&&t.navigateTo({url:"../../Examination/ExaminationApproval/ExaminationApproval",animationType:"pop-in",animationDuration:200}):t.navigateTo({url:"../../setup/Customer/CustomerCenter/CustomerCenter",animationType:"pop-in",animationDuration:200})},watch:{LoginFlag:function(t,e){this.LoginFlag=t,this.LoginFlag&&this.GetUserInfo(),this.FlagLogin()},UserLogin:function(t,e){this.UserLogin=t,this.UserInfoleft.Phone=this.UserLogin.UserInfo.phone,this.UserInfoleft.Names=this.UserLogin.UserInfo.real_name}},methods:u({},(0,s.mapMutations)(["GetUserInfo","changPrice","FalgLogin"]),{coverTouchstart:function(t){if(!this.scollFlag)return t.preventDefault(),void(this.startX=t.touches[0].pageX);this.startX=t.touches[0].pageX,this.coverTransition="transform .1s linear",b=t.touches[0].clientY},loadMapData:function(){console.log(n("ok"," at pages\\tabbar\\index\\index.vue:580"))},ceshis:function(){t.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},coverTouchmove:function(t){if(!this.scollFlag)return t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80?void this.show("left"):void this.valueX;if(t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=150)this.show("left");else{x=t.touches[0].clientY;var e=x-b;this.scollFlag&&(this.moving=!0,e<0&&e>=-80&&(this.coverTransform="translateY(".concat(e,"px)")))}},coverTouchend:function(){!1!==this.moving&&this.scollFlag&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateX(0px)",this.scollFlag=!0)},downCallback:function(t){this.onRefresh(),setTimeout(function(){t.endSuccess()},1e3)},GetNumbers:function(e){var i=this,o=this;this.PsdArr.push(e),6==this.PsdArr.length&&(this.User.password=this.PsdArr.join(""),this.User.phone=this.UserLogin.UserInfo.phone.trim(),console.log(n(this.User," at pages\\tabbar\\index\\index.vue:655")),this.$refs.loading.open(),setTimeout(function(){var e={user_id:"",pay_type:"",pay_amount:"",car_no:""};e.user_id=o.UserCouponInfo.userid,e.pay_amount=o.UserCouponInfo.conponprice.toString(),e.pay_type=o.UserCouponInfo.type,e.car_no=o.UserCouponInfo.carnumber;var a=(new Date).toLocaleDateString();a=a.replace(/\//g,"-");var s=Math.round(new Date/1e3),c={pay_type:e.pay_type,pay_amount:e.pay_amount,car_no:e.car_no,date:s,token:o.UserLogin.UserInfo.user_token,order_no:o.ordernumber};console.log(n(c," at pages\\tabbar\\index\\index.vue:681")),o.tokken=o.UserLogin.UserInfo.user_token;var u=(0,l.default)(o.User.password),d=r.default.encrypt(JSON.stringify(c),u),p={user_id:e.user_id,post_params:d};i.$api.ChekcToken(i.$store.state.UserLogin.SessionFlag).then(function(a){if(0!=a.data.result)return t.showToast({title:"你的账户已在别处登录，如不是本人请尽快修改密码",duration:2e3,icon:"none"}),i.$store.commit("RemoveLoginOut"),void setTimeout(function(){o.PsdArr=[],o.PasswordList.forEach(function(t){t.flag=!1}),o.closepays(),o.UserCouponInfo.conponprice="",o.password=!1,o.diskif=!1,o.$refs.loading.close(),t.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},2e3);i.$api.ApplyCouponInfo(p).then(function(a){return console.log(n(a," at pages\\tabbar\\index\\index.vue:720")),1==a.data.result?"支付密码错误超过三次，锁定交易3小时，建议修改支付密码"==a.data.message?(t.showToast({title:a.data.message,duration:1e3,icon:"none"}),void setTimeout(function(){o.PsdArr=[],o.PasswordList.forEach(function(t){t.flag=!1}),o.closepays(),o.UserCouponInfo.conponprice="",o.password=!1,o.diskif=!1,o.$refs.loading.close()},1e3)):(t.showToast({title:"密码错误，请重新输入",duration:1e3,icon:"none"}),void setTimeout(function(){o.PsdArr=[],o.PasswordList.forEach(function(t){t.flag=!1}),o.$refs.loading.close()},1e3)):0==a.data.result?(console.log(n(e," at pages\\tabbar\\index\\index.vue:757")),i.password=!1,void setTimeout(function(){o.diskif=!1,o.closepays(),o.PsdArr=[],o.UserCouponInfo.conponprice="",i.PasswordList.forEach(function(t,e){t.flag=!1}),o.price=o.price-o.UserCouponInfo.conponprice,1==o.UserCouponInfo.type&&o.changPrice(o.price),i.$refs.loading.close(),t.showToast({title:"充值成功",duration:1e3,icon:"none"}),setTimeout(function(){t.navigateTo({url:"/pages/tabbar/function/Code/Code?code=".concat(a.data.coupon_no),animationType:"pop-in",animationDuration:200})},1e3)},1e3)):void 0})})},1e3)),this.PsdArr.forEach(function(t,e){o.PasswordList[e].flag=!0}),console.log(n(this.PsdArr," at pages\\tabbar\\index\\index.vue:796"))},onRefresh:function(){var e=this,i=this;this.mapIsHidden=!1,this.loadingtext="",this.$refs.loading.open(),this.MYmaplist=this.MYGasstation,this.CDmaplist=this.CDGasstation,i.timelocation(),setTimeout(function(){i.mapIsHidden=!0,i.$refs.loading.close(),console.log(n(JSON.stringify(i.UserLogin)," at pages\\tabbar\\index\\index.vue:811")),e.FlagLogin(),t.stopPullDownRefresh()},2e3)},FlagLogin:function(){var t=this;if(this.vehiclelist=[],this.LoginFlag){if(console.log(n("已登录"," at pages\\tabbar\\index\\index.vue:820")),this.UserInfoleft.Phone=this.UserLogin.UserInfo.phone,this.UserInfoleft.Names=this.UserLogin.UserInfo.real_name,null==this.UserLogin.UserInfo.company_balance||(this.price=this.UserLogin.UserInfo.company_balance),null==this.UserLogin.UserInfo.car_no_list)return;console.log(n(this.UserLogin.UserInfo.car_no_list.split("|")," at pages\\tabbar\\index\\index.vue:833"));var e=this.UserLogin.UserInfo.car_no_list.split("|");""==e[0]||null==e[0]?(t.vehiclelist="",t.CarFlag=!1):(e.forEach(function(e,i){t.CarFlag=!0,console.log(n(e," at pages\\tabbar\\index\\index.vue:842"));var o={id:"",text:"",active:""};o.id=i+1,o.text=e,o.active=0==i,t.vehiclelist.push(o)}),this.UserCouponInfo.carnumber=t.vehiclelist[0].text,console.log(n(t.vehiclelist," at pages\\tabbar\\index\\index.vue:855")))}else console.log(n("未登录"," at pages\\tabbar\\index\\index.vue:859")),this.UserInfoleft.Phone="***********",this.UserInfoleft.Names="游客",this.price=0},confirmButton:function(){console.log(n("Dialog 确定按钮点击"," at pages\\tabbar\\index\\index.vue:866")),!this.LoginFlag||this.flagdistance?(!this.LoginFlag&&!this.flagdistance||!this.LoginFlag&&this.flagdistance)&&this.Urladress("../../login/login/login"):this.Urladress("../map/map")},cancelButton:function(){console.log(n("Dialog 取消按钮点击"," at pages\\tabbar\\index\\index.vue:881"))},DelNumbers:function(){var t=this;0!=this.PsdArr.length&&(this.PsdArr.pop(),console.log(n(this.PsdArr," at pages\\tabbar\\index\\index.vue:889")),this.PasswordList.forEach(function(t,e){t.flag=!1}),this.PsdArr.forEach(function(e,i){t.PasswordList[i].flag=!0,console.log(n(t.PasswordList[i].flag," at pages\\tabbar\\index\\index.vue:895"))}))},backPay:function(){this.payone=!this.payone,this.password=!this.password},moveHandle:function(){},mapfalgs:function(){this.mapIsHidden=!1,this.controlss[0].position.left=600},ReCord:function(){if(this.LoginFlag)t.navigateTo({url:"../function/History/History",animationType:"pop-in",animationDuration:200});else{t.showToast({title:"请先登录你的账户",duration:1e3,icon:"none"})}},getmaplocation:function(){var e=this,i=this,a=new o.default.AMapWX({key:i.mapkeys});a.getRegeo({success:function(o){console.log(n("成功"," at pages\\tabbar\\index\\index.vue:933")),i.Mapxixi=!0,e.addressName=o[0].regeocodeData.addressComponent.city,console.log(n(e.addressName," at pages\\tabbar\\index\\index.vue:936"));var a=getCurrentPages(),s=a[a.length-1],r=s.$getAppWebview(),l=r.getStyle().titleNView,c=e.$mp.page.$getAppWebview();l.buttons[1].text=e.addressName,e.latitude=o[0].latitude,e.longitude=o[0].longitude,e.covers[0].latitude=e.latitude,e.covers[0].longitude=e.longitude,e.covers[0].iconPath="../../../static/tabbar/loca.png",e.Locationflag=!0,e.mapasye(l.buttons[1].text),c.setTitleNViewButtonStyle(1,{text:l.buttons[1].text}),t.getSystemInfo({success:function(t){i.controlss[0].position.left=t.screenWidth-50,i.swidth=t.screenWidth-50,console.log(n(t.screenWidth," at pages\\tabbar\\index\\index.vue:958"))}})},fail:function(e){t.showToast({title:"当前没有网络",duration:2e3,icon:"none"}),console.log(n(e," at pages\\tabbar\\index\\index.vue:972")),i.checkPermissionPos()}})},mapasye:function(t){var e=this;e.maplist=[]},timelocation:function(){var t=this;t.mapindex++,t.getmaplocation()},Getgasstation:function(){console.log(n(this.maplist[0].mid," at pages\\tabbar\\index\\index.vue:1009"));var t=this;if(parseInt(this.maplist[0].mid)>parseInt(this.thousands))return t.flagdistance=!1,void console.log(n("no"," at pages\\tabbar\\index\\index.vue:1013"));t.flagdistance=!0,console.log(n("ok"," at pages\\tabbar\\index\\index.vue:1017"))},bd_decrypt:function(t,e){var i=3e3*Math.PI/180,n=t-.0065,o=e-.006,a=Math.sqrt(n*n+o*o)-2e-5*Math.sin(o*i),s=Math.atan2(o,n)-3e-6*Math.cos(n*i),r=a*Math.cos(s),l=a*Math.sin(s);return{lng:r,lat:l}},SaveLocation:function(t,e,i){var n=this.getDisance(this.latitude,this.longitude,t,e),o=this.Transformation(n),a={latitude:t,longitude:e,id:i.index,address:i.address,name:i.name,distances:o.middles,mid:o.mid};this.maplist.push(a)},sortDistances:function(t,e){return t=parseFloat(t.mid),e=parseFloat(e.mid),t-e},toRad:function(t){return t*Math.PI/180},getDisance:function(t,e,i,n){var o=0,a=this.toRad(t),s=this.toRad(i),r=a-s,l=this.toRad(e)-this.toRad(n);o=2*Math.asin(Math.sqrt(Math.pow(Math.sin(r/2),2)+Math.cos(a)*Math.cos(s)*Math.pow(Math.sin(l/2),2)));return 6378137*o},Transformation:function(t){var e=parseInt(t);if(e<this.thousand)return{middles:e+"m",mid:e};var i=parseInt(e/this.thousand),n=parseInt(e%this.thousand).toString();return n=n.substring(0,2),{middles:i+"."+n+"km",mid:e}},OpenMap:function(){t.navigateTo({url:"../map/map",animationType:"pop-in",animationDuration:200})},showSinglePicker:function(){this.pickerValueArray=this.pickerSingleArray,this.mode="selector",this.deepLength=1,this.pickerValueDefault=[0],this.$refs.mpvuePicker.show()},checkPermissionPos:function(){plus.geolocation.getCurrentPosition(function(t){},function(t){switch(t.code){case t.PERMISSION_DENIED:plus.nativeUI.alert("用户拒绝了地理定位请求.");break;case t.POSITION_UNAVAILABLE:plus.nativeUI.alert("位置信息不可用.");break;case t.TIMEOUT:plus.nativeUI.alert("获取用户位置的请求超时.");break;case t.UNKNOWN_ERROR:plus.nativeUI.alert("未知错误.");break}})},onConfirm:function(t){var e=this;this.pickerText=t,console.log(n(this.pickerText.label," at pages\\tabbar\\index\\index.vue:1116"));var i=this.$mp.page.$getAppWebview();i.setTitleNViewButtonStyle(1,{text:this.pickerText.label}),this.addressName==this.pickerText.label?(console.log(n(this.pickerText.label," at pages\\tabbar\\index\\index.vue:1123")),e.latitude=e.covers[0].latitude,e.longitude=e.covers[0].longitude,this.mapcityflag=!1):"成都市"==e.pickerText.label&&(this.mapIsHidden=!1,this.$refs.loading.open(),e.latitude="30.5702000000",e.longitude="104.0647600000"),setTimeout(function(){e.mapIsHidden=!0,e.$refs.loading.close()},1e3)},show:function(t){var e=this;"left"===t?(this.controlss[0].position.left=600,this.mapIsHidden=!1,setTimeout(function(){e.showLeft=!0},100)):this.showRigth=!0},hide:function(){this.showLeft=!1,this.showRigth=!1},closeDrawer:function(t){var e=this;"left"===t?(this.controlss[0].position.left=this.swidth,this.showLeft=!1,setTimeout(function(){e.mapIsHidden=!0},100)):this.showRigth=!1},Urladress:function(e){t.navigateTo({url:e,animationType:"pop-in",animationDuration:200})},GoToUrl:function(t){var e=this;this.UserSetList.forEach(function(i){if(t==i.id)return 1!=t&&3!=t&&5!=t||e.LoginFlag?void e.Urladress(i.url):(e.sDialog.message="抱歉，你还没有登录，请前往登录",void e.$refs.simpleDialog2.confirm({title:"提示！",message:e.sDialog.message}))})},back:function(t){this.closeDrawer("left")},touchstart:function(t){t.preventDefault(),this.startX=t.touches[0].pageX},touchmove:function(t){return t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80?void this.show("left"):void this.valueX},touchend:function(){},bindPickerChange:function(t){console.log(n(t.target," at pages\\tabbar\\index\\index.vue:1267")),this.city=this.array[t.target.value]},changeactive:function(t){console.log(n(t," at pages\\tabbar\\index\\index.vue:1272")),1!=t?(this.actflag=!1,console.log(n(this.actflag," at pages\\tabbar\\index\\index.vue:1280"))):this.actflag=!0},Appquota:function(){if(this.LoginFlag)t.navigateTo({url:"../function/Applicationquota/Applicationquota",animationType:"pop-in",animationDuration:200});else{t.showToast({title:"请先登录你的账户",duration:1e3,icon:"none"})}},systemactive:function(e){var i=this,o=this;if(this.LoginFlag){if(this.UserCouponInfo.type=e,1==e)return this.FlagLogin(),void(this.systemflag=!0);var a={car_no:this.UserCouponInfo.carnumber};this.$api.ChekcToken(this.$store.state.UserLogin.SessionFlag).then(function(e){if(0!=e.data.result)return t.showToast({title:"你的账户已在别处登录，如不是本人请尽快修改密码",duration:2e3,icon:"none"}),i.$store.commit("RemoveLoginOut"),void setTimeout(function(){t.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},2e3);i.$api.GetCarBalance(a).then(function(t){0==t.data.result&&(o.price=t.data.data.balance),console.log(n(t," at pages\\tabbar\\index\\index.vue:1336"))}),i.systemflag=!1})}},changevehicle:function(e){var i=this,o=this;this.vehiclelist.forEach(function(a){if(a.id!=e)a.active=!1;else if(o.UserCouponInfo.carnumber=a.text,a.active=!0,2==i.UserCouponInfo.type){var s={car_no:i.UserCouponInfo.carnumber};i.$api.ChekcToken(i.$store.state.UserLogin.SessionFlag).then(function(e){if(0!=e.data.result)return t.showToast({title:"你的账户已在别处登录，如不是本人请尽快修改密码",duration:2e3,icon:"none"}),i.$store.commit("RemoveLoginOut"),void setTimeout(function(){t.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},2e3);i.$api.GetCarBalance(s).then(function(t){0==t.data.result&&(o.price=t.data.data.balance),console.log(n(t," at pages\\tabbar\\index\\index.vue:1373"))})})}})},closepay:function(){this.diskif=!1,this.Payamin=!1,this.password=!1,this.payone=!0,this.paytwo=!1,t.showToast({title:"你已取消了金额充值",duration:1e3,icon:"none"})},closepays:function(){this.diskif=!1,this.Payamin=!1,this.password=!1,this.payone=!0,this.paytwo=!1},openpay:function(e){var i=this,o=this;if(e.preventDefault(),this.timelocation(),!this.LoginFlag)return o.sDialog.message="抱歉，你还没有登录，请前往登录",void o.$refs.simpleDialog2.confirm({title:"提示！",message:o.sDialog.message});if(!this.flagdistance)return o.sDialog.message="抱歉，你没有在加油站附近，请前往导航附近加油站",void o.$refs.simpleDialog2.confirm({title:"提示！",message:o.sDialog.message});if(""!=this.UserCouponInfo.conponprice)if(this.UserCouponInfo.conponprice<=0)t.showToast({title:"不能输入小于或等于0的充值金额",duration:1e3,icon:"none"});else if(parseFloat(this.UserCouponInfo.conponprice)>parseFloat(this.price))t.showToast({title:"加油金额已大于当前额度",duration:1e3,icon:"none"});else{this.UserCouponInfo.userid=this.UserLogin.UserInfo.user_id,this.OrderInfo.user_id=this.UserCouponInfo.userid,this.OrderInfo.pay_type=this.UserCouponInfo.type,this.OrderInfo.pay_amount=this.UserCouponInfo.conponprice,this.OrderInfo.car_no=this.UserCouponInfo.carnumber;var a=(new Date).toLocaleDateString();a=a.replace(/\//g,"-");new Date(a);this.OrderInfo.time_span=Math.round(new Date/1e3);var s=r.default.encrypt(JSON.stringify(this.OrderInfo),"a0bdac13b5cb2c2acf8f7j0f737aa78b"),l={post_params:s};this.diskif=!this.diskif,this.Payamin=!this.Payamin,this.$api.ChekcToken(this.$store.state.UserLogin.SessionFlag).then(function(e){if(0!=e.data.result)return t.showToast({title:"你的账户已在别处登录，如不是本人请尽快修改密码",duration:2e3,icon:"none"}),i.$store.commit("RemoveLoginOut"),void setTimeout(function(){t.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},2e3);i.$api.CreateOrderInfo(l).then(function(t){console.log(n(t," at pages\\tabbar\\index\\index.vue:1480")),0==t.data.result&&(o.ordernumber=t.data.order_no)}),console.log(n(i.OrderInfo," at pages\\tabbar\\index\\index.vue:1485"))})}else t.showToast({title:"请输入你的充值金额",duration:1e3,icon:"none"})},Payment:function(){1!=this.UserCouponInfo.type&&(this.payone=!this.payone,this.paytwo=!this.paytwo)},backs:function(){this.payone=!this.payone,this.paytwo=!this.paytwo},Inputpssword:function(t){if(console.log(n(t," at pages\\tabbar\\index\\index.vue:1502")),"余额"==t){var e=this;return this.payone=!this.payone,this.loadingtext="",this.$refs.loading.open(),void setTimeout(function(){e.$refs.loading.close(),e.password=!e.password},1500)}},changepayment:function(t){console.log(n(t," at pages\\tabbar\\index\\index.vue:1517"));var e=this;this.Paymentlist.forEach(function(i){t.id==i.id?(i.flag=!0,e.paymentobj.text=i.text,e.paymentobj.img=i.img):i.flag=!1}),e.backs()},Whether:function(){this.LoginFlag?t.navigateTo({url:"../../setup/UserSet/UserSet",animationType:"pop-in",animationDuration:200}):t.navigateTo({url:"../../login/login/login",animationType:"pop-in",animationDuration:200})}}),onReachBottom:function(t){console.log(n("哈哈"," at pages\\tabbar\\index\\index.vue:1549"))},onPageScroll:function(e){this.scolls=e.scrollTop;var i=this.windowheights-this.scolls;if(this.scollFlag=i<=280,0==this.scolls?this.scollTopflag=!0:this.scollTopflag=!1,e.scrollTop<=50)return this.mapindexflag=!1,void t.setNavigationBarColor({frontColor:"#000000",backgroundColor:"#ffffff"});this.mapindexflag=!0,t.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#F7CE13"})}};e.default=y}).call(this,i("6e42")["default"],i("0de9")["default"])},cd82:function(t,e,i){"use strict";var n=i("12af"),o=i.n(n);o.a},de7f:function(t,e,i){"use strict";i.r(e);var n=i("91f4"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},e054:function(t,e,i){"use strict";(function(t){i("d7b2"),i("921b");n(i("66fd"));var e=n(i("1ad1"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["e054","common/runtime","common/vendor"]]]);