(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setup/ChangePassword/LoginPsd/loginpsdthree/loginpsdthree"],{"76b5":function(e,t,s){"use strict";var n=s("c594"),o=s.n(n);o.a},"7b6a":function(e,t,s){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(s("d45d")),i=a(s("ed11")),r=s("2f62");function a(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},n=Object.keys(s);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),n.forEach(function(t){d(e,t,s[t])})}return e}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var c={data:function(){return{len:0,startX:0,moveEndX:0,valueX:0,UserPsd:{Yz:/^[0-9A-Za-z]{6,16}$/,text:"",texts:""},UserRegister:{old_user_password:"",user_password:""},psd:"password",psdeyeimg:"../../../../../static/login/eyes.png",psdeysflag:!1,User:{userinfo:""},PSDflag:!0}},onLoad:function(e){this.UserRegister.old_user_password=e.oldpsd},computed:(0,r.mapState)(["LoginFlag","UserLogin"]),methods:u({},(0,r.mapMutations)(["information"]),{visPsd:function(){if(!this.psdeysflag)return this.psdeyeimg="../../../../../static/login/eye.png",this.psd="text",void(this.psdeysflag=!0);this.psdeysflag&&(this.psdeyeimg="../../../../../static/login/eyes.png",this.psd="password",this.psdeysflag=!1)},completelogin:function(){var t=this;this.$api.ChekcToken(this.$store.state.UserLogin.SessionFlag).then(function(s){if(0!=s.data.result)return e.showToast({title:"你的账户已在别处登录，如不是本人请尽快修改密码",duration:2e3,icon:"none"}),t.$store.commit("RemoveLoginOut"),void setTimeout(function(){e.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},2e3);if(t.PSDflag){t.PSDflag=!1;var r=t;if(""==t.UserPsd.text)return void e.showToast({title:"密码不能为空，请正确输入",duration:1e3,icon:"none",success:function(){r.PSDflag=!0}});if(!t.UserPsd.Yz.test(t.UserPsd.text))return void e.showToast({title:"密码格式不正确，请正确填写",duration:1e3,icon:"none",success:function(){r.PSDflag=!0}});if(t.UserPsd.text!=t.UserPsd.texts)return void e.showToast({title:"俩次密码不一致，请正确填写",duration:1e3,icon:"none",success:function(){r.PSDflag=!0,r.UserPsd.texts=""}});t.UserRegister.user_password=t.UserPsd.text;var a=(0,i.default)(t.UserRegister.old_user_password),u=o.default.encrypt(JSON.stringify(t.UserRegister),a),d={user_id:t.UserLogin.UserInfo.user_id,pwd_type:1,post_params:u};console.log(n(d," at pages\\setup\\ChangePassword\\LoginPsd\\loginpsdthree\\loginpsdthree.vue:131")),t.$api.ChangeUserPwd(d).then(function(t){return console.log(n(t," at pages\\setup\\ChangePassword\\LoginPsd\\loginpsdthree\\loginpsdthree.vue:133")),0==t.data.result?(r.$refs.loading.open(),void setTimeout(function(){r.information(r.UserLogin.UserInfo),r.$refs.loading.close(),e.showToast({title:"登录密码修改成功",duration:1e3,icon:"none"}),setTimeout(function(){e.navigateBack({delta:2,animationType:"pop-in",animationDuration:200})},1e3)},2e3)):1==t.data.result?(r.$refs.loading.open(),void setTimeout(function(){r.$refs.loading.close(),r.UserPsd.text="",r.UserPsd.texts="",e.showToast({title:t.data.message,duration:1e3,icon:"none"}),setTimeout(function(){e.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},1e3)},2e3)):void 0})}})},touchstart:function(e){e.preventDefault(),this.startX=e.touches[0].pageX},touchmove:function(t){return t.preventDefault(),this.moveEndX=t.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80?void e.navigateBack({delta:1,animationType:"pop-in",animationDuration:200}):void this.valueX}})};t.default=c}).call(this,s("6e42")["default"],s("0de9")["default"])},"9bfd":function(e,t,s){"use strict";s.r(t);var n=s("dd0a"),o=s("d016");for(var i in o)"default"!==i&&function(e){s.d(t,e,function(){return o[e]})}(i);s("76b5");var r=s("2877"),a=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=a.exports},c594:function(e,t,s){},d016:function(e,t,s){"use strict";s.r(t);var n=s("7b6a"),o=s.n(n);for(var i in n)"default"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);t["default"]=o.a},dd0a:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=(e._self._c,Array.isArray(e.UserPsd.text)),n=Array.isArray(e.UserPsd.texts);e._isMounted||(e.e0=function(t){var s=e.UserPsd.text,n=t.target,o=!!n.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);n.checked?r<0&&e.$set(e.UserPsd,"text",s.concat([i])):r>-1&&e.$set(e.UserPsd,"text",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.UserPsd,"text",o)},e.e1=function(t){var s=e.UserPsd.texts,n=t.target,o=!!n.checked;if(Array.isArray(s)){var i=null,r=e._i(s,i);n.checked?r<0&&e.$set(e.UserPsd,"texts",s.concat([i])):r>-1&&e.$set(e.UserPsd,"texts",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(e.UserPsd,"texts",o)}),e.$mp.data=Object.assign({},{$root:{g0:s,g1:n}})},o=[];s.d(t,"a",function(){return n}),s.d(t,"b",function(){return o})},fba7:function(e,t,s){"use strict";(function(e){s("d7b2"),s("921b");n(s("66fd"));var t=n(s("9bfd"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])}},[["fba7","common/runtime","common/vendor"]]]);