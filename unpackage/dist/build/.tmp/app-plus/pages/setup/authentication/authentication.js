(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setup/authentication/authentication"],{"2d4f":function(e,t,n){},3098:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})},"37d8":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("d45d")),a=n("2f62");function s(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){return Promise.all([n.e("common/vendor"),n.e("components/mpvue-citypicker/mpvueCityPicker")]).then(n.bind(null,"a37a"))},f={data:function(){return{len:0,startX:0,moveEndX:0,valueX:0,themeColor:"#007AFF",cityPickerValueDefault:[0,0,1],address:"请选择地址",UserAdressYZ:[{id:1,yzm:/^[\u4e00-\u9fa5]+$/,trpstexts:"请输入只包含中文用户名",flag:!1},{id:2,yzm:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,trpstexts:"请输入有效的身份证号码",flag:!1},{id:3,yzm:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,trpstexts:"请输入正确的邮箱地址",flag:!1}],inputs:!0,YZMindex:0,datas:{model_info:"aaa"},flagDisabled:!1}},computed:(0,a.mapState)(["LoginFlag","UserLogin"]),components:{mpvueCityPicker:c},onLoad:function(){console.log(e(this.UserLogin," at pages\\setup\\authentication\\authentication.vue:115")),this.GetInfo()},methods:r({},(0,a.mapMutations)(["information"]),{touchstart:function(e){e.preventDefault(),this.startX=e.touches[0].pageX},Blurclick:function(t){var n=this,i=this;this.inputs&&(console.log(e("aaaaaaaa"," at pages\\setup\\authentication\\authentication.vue:129")),this.inputs=!1,this.UserAdressYZ.forEach(function(o){if(o.id==t){if(1==t){var a=n.flagempty(i.UserLogin.UserInfo.real_name);return a?o.yzm.test(i.UserLogin.UserInfo.real_name)?(i.inputs=!0,void(o.flag=!0)):(i.Tips(o.trpstexts),void(o.flag=!1)):(i.Tips("不能为空"),i.inputs=!0,void(o.flag=!1))}if(2==t){a=n.flagempty(i.UserLogin.UserInfo.driver_id);return a?(console.log(e(o.yzm," at pages\\setup\\authentication\\authentication.vue:158")),o.yzm.test(i.UserLogin.UserInfo.driver_id)?(i.inputs=!0,void(o.flag=!0)):(i.Tips(o.trpstexts),void(o.flag=!1))):(i.Tips("不能为空"),i.inputs=!0,void(o.flag=!1))}if(3==t){a=n.flagempty(i.UserLogin.UserInfo.email);return a?o.yzm.test(i.UserLogin.UserInfo.email)?(i.inputs=!0,void(o.flag=!0)):(i.Tips(o.trpstexts),void(o.flag=!1)):(i.Tips("不能为空"),i.inputs=!0,void(o.flag=!1))}}}))},Submission:function(){var t=this;this.$api.ChekcToken(this.$store.state.UserLogin.SessionFlag).then(function(n){if(0!=n.data.result)return i.showToast({title:"你的账户已在别处登录，如不是本人请尽快修改密码",duration:2e3,icon:"none"}),t.$store.commit("RemoveLoginOut"),void setTimeout(function(){i.navigateTo({url:"/pages/login/UserLoginPhone/UserLoginPhone",animationType:"pop-in",animationDuration:200})},2e3);var a=t;a.inputs&&setTimeout(function(){if(a.YZMindex=0,t.UserAdressYZ.forEach(function(e){e.flag&&a.YZMindex++}),console.log(e(a.address," at pages\\setup\\authentication\\authentication.vue:216")),console.log(e(a.UserLogin.UserInfo.address," at pages\\setup\\authentication\\authentication.vue:217")),3==a.YZMindex&&"请选择地址"!=a.address&&""!=a.UserLogin.UserInfo.address){a.datas.model_info=a.UserLogin.UserInfo;var n={user_id:a.UserLogin.UserInfo.user_id,real_name:a.UserLogin.UserInfo.real_name,driver_id:a.UserLogin.UserInfo.driver_id,contry:"中国",province:a.UserLogin.UserInfo.province,city:a.UserLogin.UserInfo.city,address:a.UserLogin.UserInfo.address,email:a.UserLogin.UserInfo.email,phone:a.UserLogin.UserInfo.phone.trim()},s=o.default.encrypt(JSON.stringify(n),"a0bdac13b5cb2c2acf8f7j0f737aa78b");return console.log(e(s," at pages\\setup\\authentication\\authentication.vue:235")),void i.request({url:"http://gwyc.youxinbao.com.cn/public/UpdateUserInfo",data:{post_params:s},success:function(t){return console.log(e(t," at pages\\setup\\authentication\\authentication.vue:242")),0==t.data.result?(a.$refs.loading.open(),void setTimeout(function(){a.information(a.UserLogin.UserInfo),a.$refs.loading.close(),i.showToast({title:t.data.message,duration:1e3,icon:"none"}),setTimeout(function(){i.navigateBack({delta:1,animationType:"pop-in",animationDuration:200})},1e3)},2e3)):1==t.data.result?(a.$refs.loading.open(),void setTimeout(function(){a.$refs.loading.close(),i.showToast({title:t.data.message,duration:1e3,icon:"none"})},2e3)):void 0},fail:function(t){console.log(e(t," at pages\\setup\\authentication\\authentication.vue:277"))}})}a.Tips("请正确填写信息"),console.log(e(a.YZMindex," at pages\\setup\\authentication\\authentication.vue:283"))},600)})},flagempty:function(e){return""!=e&&null!=e},Tips:function(e){var t=this;i.showToast({title:e,duration:500,icon:"none"}),setTimeout(function(){t.inputs=!0},500)},onCancel:function(e){},onConfirm:function(e){var t=e.label;this.UserLogin.UserInfo.province=t.split("-")[0],this.UserLogin.UserInfo.city=t.split("-")[1],this.address=e.label},Choiceaddress:function(){this.$refs.mpvueCityPicker.show()},GetInfo:function(){console.log(e(this.UserLogin.UserInfo.real_name," at pages\\setup\\authentication\\authentication.vue:326")),"未设置"==this.UserLogin.UserInfo.real_name&&(this.UserLogin.UserInfo.real_name=""),null==this.UserLogin.UserInfo.driver_id&&(this.UserLogin.UserInfo.driver_id=""),null==this.UserLogin.UserInfo.email&&(this.UserLogin.UserInfo.email=""),null==this.UserLogin.UserInfo.address&&(this.UserLogin.UserInfo.address=""),null==this.UserLogin.UserInfo.city&&(this.UserLogin.UserInfo.province="",this.UserLogin.UserInfo.city=""),null!=this.UserLogin.UserInfo.driver_id&&(console.log(e("aaaaaaaaaaaaaaaaaaaaaaaaaaaaa"," at pages\\setup\\authentication\\authentication.vue:344")),""==this.UserLogin.UserInfo.province||null==this.UserLogin.UserInfo.province?this.address="请选择地址":this.address=this.UserLogin.UserInfo.province+"-"+this.UserLogin.UserInfo.city,this.UserAdressYZ.forEach(function(e){e.flag=!0}))},touchmove:function(e){return e.preventDefault(),this.moveEndX=e.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80?void i.navigateBack({delta:1,animationType:"pop-in",animationDuration:200}):void this.valueX}})};t.default=f}).call(this,n("0de9")["default"],n("6e42")["default"])},5829:function(e,t,n){"use strict";n.r(t);var i=n("37d8"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=o.a},"5a4a":function(e,t,n){"use strict";var i=n("2d4f"),o=n.n(i);o.a},"6cb4":function(e,t,n){"use strict";n.r(t);var i=n("3098"),o=n("5829");for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);n("5a4a");var s=n("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,null,null);t["default"]=r.exports},"86cb":function(e,t,n){"use strict";(function(e){n("d7b2"),n("921b");i(n("66fd"));var t=i(n("6cb4"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])}},[["86cb","common/runtime","common/vendor"]]]);