(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/CodeSending/CodeSending"],{"084b":function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2f62");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){var e=[1,2,3,4,5,6,7,8,9,0];return e},r={data:function(){return{len:0,startX:0,moveEndX:0,valueX:0,pattern:"hidden",keyss:d(),PsdArr:[],PasswordList:[{text:""},{text:""},{text:""},{text:""},{text:""},{text:""}],datas:{Phone:"",flag:!1},phones:"",code:{phone:"",sms_validate_code:""},second:60,LoginCode:!0,User:{userinfo:""}}},onLoad:function(t){var n=this,o=t.phone.slice(0,3),i=t.phone.slice(7,11);n.phones=o+"*****"+i,console.log(e(i," at pages\\login\\CodeSending\\CodeSending.vue:96")),this.PsdArr=[],this.second=60,this.LoginCode=!0,this.datas.Phone=t.phone,this.datas.flag=t.flag,this.SendCode()},filters:{Zeros:function(t){return console.log(e(t," at pages\\login\\CodeSending\\CodeSending.vue:106")),t}},methods:s({},(0,i.mapMutations)(["Login"]),{touchstart:function(e){e.preventDefault(),this.startX=e.touches[0].pageX},againaendCode:function(){this.LoginCode||(this.SendCode(),this.LoginCode=!0)},touchmove:function(e){return e.preventDefault(),this.moveEndX=e.touches[0].pageX,this.valueX=this.moveEndX-this.startX,this.valueX>=80?void o.navigateBack({delta:1,animationType:"pop-in",animationDuration:200}):void this.valueX},SendCode:function(){var t=this;this.$api.SendSmsCode(this.datas).then(function(n){if(console.log(e(n," at pages\\login\\CodeSending\\CodeSending.vue:145")),1==n.data.result){o.showToast({title:"验证码发送成功，请留意短信",duration:2e3,icon:"none"});var i=setInterval(function(){t.second--,t.second<0&&(clearInterval(i),t.second=60,t.LoginCode=!1)},1e3)}else o.showToast({title:"短信发送超限,请稍后重试",duration:2e3,icon:"none"})})},DelNumbers:function(){var t=this;0!=this.PsdArr.length&&(this.PsdArr.pop(),console.log(e(this.PsdArr," at pages\\login\\CodeSending\\CodeSending.vue:177")),this.PasswordList.forEach(function(e,t){e.text=""}),this.PsdArr.forEach(function(e,n){t.PasswordList[n].text=e}))},GetNumbers:function(t){var n=this,i=this;if(this.PsdArr.push(t),console.log(e(this.PsdArr," at pages\\login\\CodeSending\\CodeSending.vue:189")),this.PsdArr.forEach(function(e,t){i.PasswordList[t].text=e,0==i.PasswordList[t].text&&(i.PasswordList[t].text="0")}),console.log(e(JSON.stringify(this.PasswordList)," at pages\\login\\CodeSending\\CodeSending.vue:196")),6==this.PsdArr.length){this.$refs.loading.open();var s=this.PsdArr.join("");if(this.code.sms_validate_code=s,this.code.phone=this.datas.Phone,console.log(e(s," at pages\\login\\CodeSending\\CodeSending.vue:202")),"false"==i.datas.flag)return void this.$api.CheckSmsValidateCode(this.code).then(function(t){console.log(e(t," at pages\\login\\CodeSending\\CodeSending.vue:210")),n.code.sms_validate_code="",n.PasswordList.forEach(function(e,t){e.text=""}),n.PsdArr=[],0!=t.data.result?1==t.data.result&&setTimeout(function(){n.$refs.loading.close(),o.showToast({title:"验证码不正确",duration:1e3,icon:"none"})},2e3):setTimeout(function(){n.$refs.loading.close(),o.navigateTo({url:"../SettingPassword/SettingPassword?phone=".concat(n.datas.Phone),animationType:"pop-in",animationDuration:200})},2e3)});"true"==i.datas.flag&&this.$api.LoginFromAValidateCode(this.code).then(function(t){n.$refs.loading.open(),console.log(e(t," at pages\\login\\CodeSending\\CodeSending.vue:243")),n.code.sms_validate_code="",n.PasswordList.forEach(function(e,t){e.text=""}),n.PsdArr=[],0!=t.data.result?1==t.data.result&&setTimeout(function(){n.$refs.loading.close(),o.showToast({title:"验证码不正确",duration:1e3,icon:"none"})},2e3):setTimeout(function(){i.User.userinfo=t.data.data,i.Login(i.User),o.showToast({title:"登录成功，请稍后...",duration:2e3,icon:"none"}),setTimeout(function(){i.$refs.loading.close();var t=n.$mp.page.$getAppWebview();console.log(e(t.id," at pages\\login\\CodeSending\\CodeSending.vue:261")),o.navigateBack({delta:parseInt(t.id)-1,animationType:"pop-out",animationDuration:200})},2e3)},2e3)})}}})};t.default=r}).call(this,n("0de9")["default"],n("6e42")["default"])},"2dec":function(e,t,n){},3294:function(e,t,n){"use strict";n.r(t);var o=n("6c10"),i=n("3924");for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);n("deb6");var a=n("2877"),d=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,null,null);t["default"]=d.exports},3924:function(e,t,n){"use strict";n.r(t);var o=n("084b"),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,function(){return o[e]})}(s);t["default"]=i.a},5809:function(e,t,n){"use strict";(function(e){n("d7b2"),n("921b");o(n("66fd"));var t=o(n("3294"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"6c10":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},deb6:function(e,t,n){"use strict";var o=n("2dec"),i=n.n(o);i.a}},[["5809","common/runtime","common/vendor"]]]);